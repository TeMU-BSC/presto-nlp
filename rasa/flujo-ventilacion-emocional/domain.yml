version: "2.0"
intents:
- greet
- inform_sentiment
- goodbye_nicemood
- chitchat
- nlu_fallback
- sobregeneralizacion:
    use_entities:
      - valorFamilia
      - valorPareja
    ignore_entities:
      - sentiment
  # - sobregeneralizacion:
  #     use_entities:
  #     - valorFamilia
  #     - valorPareja
  #     ignore_entities:
  #     - sentiment
- etiquetado
- deberias
- lectordementes
- adivinacion
- pensamientoabsolutista
- catastrofismo

entities:
  # - sentiment
  # - PER
  - valorPareja
  - valorFamilia

# forms:
#   sentiment_form:
#     sentiment:
#     - type: from_entity
#     - entity: sentiment

actions: 
  - sentiment_form


slots:  

  # PER:
  #   type: text
  #   influence_conversation: false
  #   # auto-fill: true

  sentiment: 
    type: categorical
    # auto_fill: true
    influence_conversation: true
    values:
      - NEU
      - POS
      - NEG

  valorFamilia:
    type: text
    influence_conversation: true

  valorPareja:
    type: text
    influence_conversation: true

  # distorsion: 
  #   type: categorical
  #   auto_fill: true
  #   influence_conversation: true
  #   values:
  #     - imperativos
  #     - lector
  #     - sobregeneralizacion
  #     - adivinacion
  #     - catastrofismo
  #     - etiquetado
  #     - absolutista


forms:
  sentiment_form:
    ignored_intents: 
    - chitchat
    - etiquetado
    - deberias
    - lectordementes
    - adivinacion
    - pensamientoabsolutista
    - catastrofismo
    required_slots:
        sentiment:
          - type: from_entity
            entity: sentiment

  # distorsion_form:
  #   required_slots:
  #       sentiment:
  #         - type: from_entity
  #           entity: distorsion




responses:

# greets and goodbye responses

  utter_greet:
  - text: "¡Hola! soy Vicky 👩‍⚕️ estoy aquí para ayudarte a cuidar eso tan importante como la salud mental. ¿Qué tal te encuentras hoy?"
  - text: "¡Hola! Estoy encantada de tenerte de nuevo por aquí. ¿Cómo te has sentido estos días?"
  utter_goodbye_nicemood:
  - text: "¡Estupendo! ya sabes que puedes hablarme siempre que lo necesites, ¡hasta pronto!"

# descendent arrow responses

  utter_sentiment_NEG:
  - text: "Lo lamento. Parece que no estás pasando por un buen momento. Me gustaría conocer más a fondo qué te ocurre."
  utter_sentiment_POS:
  - text: "¡Me alegra leer esto! Recuerda que tienes a tu disposición herramientas para trabajar siempre que quieras"
  utter_sentiment_NEU:
  - text: "entiendo, me gustaría que me contaras de manera más específica cómo tu te sientes en estos momentos"

### test

  utter_sobregeneralizacion:
    - condition:
        - type: slot
          name: valorFamilia
          value: valorFamilia
      text: "[sobregen]A veces, las relaciones familiares suelen ser un punto de conflicto en nuestro día a día."
    - condition:
        - type: slot
          name: valorPareja
          value: valorPareja
      text: "[sobregen]A veces, las relaciones amorosas suelen ser un punto de sufrimiento."

    - text: "[sobregen]Definitivamente no estás pasando por un buen momento. Te propongo un pequeño ejercicio, ¿te apetece?"
  utter_etiquetado:
  - text: "[etiquet]Lamento que estés pasando por un mal momento. Me gustaría proponerte un ejercicio ¿qué te parece?"
  utter_lectordementes:
  - text: "[lectordementes]Lamento que estés pasando por un mal momento. Me gustaría proponerte un ejercicio ¿qué te parece?"
  utter_deberias:
  - text: "[deberias]Lamento que estés pasando por un mal momento. Me gustaría proponerte un ejercicio ¿qué te parece?"
  utter_pensamientoabsolutista:
  - text: "[pensamientoabsolutista]Lamento que estés pasando por un mal momento. Me gustaría proponerte un ejercicio ¿qué te parece?"
  utter_adivinacion:
  - text: "[adivinacion]Lamento que estés pasando por un mal momento. Me gustaría proponerte un ejercicio ¿qué te parece?"
  utter_catastrofismo:
  - text: "[catastrofismo]Lamento que estés pasando por un mal momento. Me gustaría proponerte un ejercicio ¿qué te parece?"
  # utter_valores:
  # - text: "respuesta valores solo"
  # utter_sobregeneralizacion + valores:
  # - text: "respuesta combinada"

# chitchat responses

  utter_chitchat/ask_name:
  - text: "Mi nombre es Vicky, ¡encantada de conocerte!"
  - text: "Me conocen como Vicky"

  utter_chitchat/help_me:
  - text: "Claro, estoy aquí precisamente para ayudar a cuidar de eso tan importante como la salud mental. ¿Por dónde quieres empezar?"
  - text: "Mi misión es ayudarte a cuidar algo tan importante como la salud mental. Si te parece podemos empezar con una de las opciones que te muestro a continuación:"

# fallback responses:

  utter_please_rephrase:
  - text: "Lo siento, no te he entendido. ¿Puedes decírmelo de otra forma?"
  - text: "Creo que no te estoy entendiendo, ¿puedes decírmelo con otras palabras?"