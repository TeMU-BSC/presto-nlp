version: "2.0"
intents:
- greet
- inform_sentiment
- goodbye_nicemood
- chitchat
- nlu_fallback
- sobregeneralizacion:
    use_entities:
      - valorFamilia
      - valorPareja
    ignore_entities:
      - sentiment
  # - sobregeneralizacion:
  #     use_entities:
  #     - valorFamilia
  #     - valorPareja
  #     ignore_entities:
  #     - sentiment
- etiquetado
- deberias
- lectordementes
- adivinacion
- pensamientoabsolutista
- catastrofismo

entities:
  # - sentiment
  # - PER
  - valorPareja
  - valorFamilia

# forms:
#   sentiment_form:
#     sentiment:
#     - type: from_entity
#     - entity: sentiment

actions: 
  - sentiment_form


slots:  

  # PER:
  #   type: text
  #   influence_conversation: false
  #   # auto-fill: true

  sentiment: 
    type: categorical
    # auto_fill: true
    influence_conversation: true
    values:
      - NEU
      - POS
      - NEG

  valorFamilia:
    type: text
    influence_conversation: true

  valorPareja:
    type: text
    influence_conversation: true

  # distorsion: 
  #   type: categorical
  #   auto_fill: true
  #   influence_conversation: true
  #   values:
  #     - imperativos
  #     - lector
  #     - sobregeneralizacion
  #     - adivinacion
  #     - catastrofismo
  #     - etiquetado
  #     - absolutista


forms:
  sentiment_form:
    ignored_intents: 
    - chitchat
    - etiquetado
    - deberias
    - lectordementes
    - adivinacion
    - pensamientoabsolutista
    - catastrofismo
    required_slots:
        sentiment:
          - type: from_entity
            entity: sentiment

  # distorsion_form:
  #   required_slots:
  #       sentiment:
  #         - type: from_entity
  #           entity: distorsion




responses:

# greets and goodbye responses

  utter_greet:
  - text: "Â¡Hola! soy Vicky ğŸ‘©â€âš•ï¸ estoy aquÃ­ para ayudarte a cuidar eso tan importante como la salud mental. Â¿QuÃ© tal te encuentras hoy?"
  - text: "Â¡Hola! Estoy encantada de tenerte de nuevo por aquÃ­. Â¿CÃ³mo te has sentido estos dÃ­as?"
  utter_goodbye_nicemood:
  - text: "Â¡Estupendo! ya sabes que puedes hablarme siempre que lo necesites, Â¡hasta pronto!"

# descendent arrow responses

  utter_sentiment_NEG:
  - text: "Lo lamento. Parece que no estÃ¡s pasando por un buen momento. Me gustarÃ­a conocer mÃ¡s a fondo quÃ© te ocurre."
  utter_sentiment_POS:
  - text: "Â¡Me alegra leer esto! Recuerda que tienes a tu disposiciÃ³n herramientas para trabajar siempre que quieras"
  utter_sentiment_NEU:
  - text: "entiendo, me gustarÃ­a que me contaras de manera mÃ¡s especÃ­fica cÃ³mo tu te sientes en estos momentos"

### test

  utter_sobregeneralizacion:
    - condition:
        - type: slot
          name: valorFamilia
          value: valorFamilia
      text: "[sobregen]A veces, las relaciones familiares suelen ser un punto de conflicto en nuestro dÃ­a a dÃ­a."
    - condition:
        - type: slot
          name: valorPareja
          value: valorPareja
      text: "[sobregen]A veces, las relaciones amorosas suelen ser un punto de sufrimiento."

    - text: "[sobregen]Definitivamente no estÃ¡s pasando por un buen momento. Te propongo un pequeÃ±o ejercicio, Â¿te apetece?"
  utter_etiquetado:
  - text: "[etiquet]Lamento que estÃ©s pasando por un mal momento. Me gustarÃ­a proponerte un ejercicio Â¿quÃ© te parece?"
  utter_lectordementes:
  - text: "[lectordementes]Lamento que estÃ©s pasando por un mal momento. Me gustarÃ­a proponerte un ejercicio Â¿quÃ© te parece?"
  utter_deberias:
  - text: "[deberias]Lamento que estÃ©s pasando por un mal momento. Me gustarÃ­a proponerte un ejercicio Â¿quÃ© te parece?"
  utter_pensamientoabsolutista:
  - text: "[pensamientoabsolutista]Lamento que estÃ©s pasando por un mal momento. Me gustarÃ­a proponerte un ejercicio Â¿quÃ© te parece?"
  utter_adivinacion:
  - text: "[adivinacion]Lamento que estÃ©s pasando por un mal momento. Me gustarÃ­a proponerte un ejercicio Â¿quÃ© te parece?"
  utter_catastrofismo:
  - text: "[catastrofismo]Lamento que estÃ©s pasando por un mal momento. Me gustarÃ­a proponerte un ejercicio Â¿quÃ© te parece?"
  # utter_valores:
  # - text: "respuesta valores solo"
  # utter_sobregeneralizacion + valores:
  # - text: "respuesta combinada"

# chitchat responses

  utter_chitchat/ask_name:
  - text: "Mi nombre es Vicky, Â¡encantada de conocerte!"
  - text: "Me conocen como Vicky"

  utter_chitchat/help_me:
  - text: "Claro, estoy aquÃ­ precisamente para ayudar a cuidar de eso tan importante como la salud mental. Â¿Por dÃ³nde quieres empezar?"
  - text: "Mi misiÃ³n es ayudarte a cuidar algo tan importante como la salud mental. Si te parece podemos empezar con una de las opciones que te muestro a continuaciÃ³n:"

# fallback responses:

  utter_please_rephrase:
  - text: "Lo siento, no te he entendido. Â¿Puedes decÃ­rmelo de otra forma?"
  - text: "Creo que no te estoy entendiendo, Â¿puedes decÃ­rmelo con otras palabras?"