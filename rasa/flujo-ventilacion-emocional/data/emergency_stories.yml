version: "2.0"

stories:

  #- story: emergency with alert + más preguntas
    #steps: 
    #- intent: alert
    #- action: utter_alert
    #- intent: emergency
    #- action: utter_confirm_emergency
    #- intent: alert_detected
    #- action: utter_alert_detected
#    - action: utter_alert_detected_selector
#    - intent: mas_preguntas
#    - action: utter_mas_preguntas

  - story: emergency with alert + contar
    steps: 
    - intent: alert
    - action: utter_alert
    - intent: emergency
    - action: utter_confirm_emergency
    - intent: alert_detected
    - action: utter_alert_detected
 #   - action: utter_alert_detected_selector
    - intent: retrieval_alert_intent
    - action: utter_si_contar
  #  - action: action_restart
    - action: action_listen
    
  - story: emergency with no_alert + contar
    steps: 
    - intent: alert
    - action: utter_alert
    - intent: emergency
    - action: utter_confirm_emergency
    - intent: no_alert_detected
    - action: utter_alert_detected
 #   - action: utter_alert_detected_selector
    - intent: retrieval_alert_intent
    - action: utter_si_contar
  #  - action: action_restart
    - action: action_listen
    
  - story: emergency_false_alarm # ok revisado
    steps:
    - intent: alert
    - action: utter_alert
    - intent: noemergency
    - action: utter_noemergency
  #  - action: action_restart
  #  - action: action_listen #cambiar nombre y poner noemergency. Se queda hasta que decidan flujo final para ambos

  - story: gender_violence_ denyfirstquestion #ok revisado
    steps:
    - intent: genderViolence
    - action: utter_start_genderViolence #selector con deny y emergency
    - intent: noemergency
    - action: utter_noemergency
  #  - action: action_restart
  #  - action: action_listen

  - story: gender_violence_ direct #ok revisado
    steps:
    - intent: genderViolence
    - action: utter_start_genderViolence #selector con deny y emergency
    - intent: confirmgv
    - action: utter_ask_genderViolence
    - intent: confirmgv2 
    - action: utter_ask_2_genderViolence #revisar   ## Añadir mas
    - intent: confirmgv3
    - action: utter_call_to_emergency_gv # o recursos o contar
 #   - action: utter_retrieval
 
  - story: gender_violence_ direct #ok revisado
    steps:
    - intent: genderViolence
    - action: utter_start_genderViolence #selector con deny y emergency
    - intent: confirmgv
    - action: utter_ask_genderViolence
    - intent: no_confirmgv2 
    - action: utter_ask_2_genderViolence #revisar   ## Añadir mas
    - intent: confirmgv3
    - action: utter_call_to_emergency_gv # o recursos o contar
 #   - action: utter_retrieval
    
  - story: gender_violence_ direct #ok revisado
    steps:
    - intent: genderViolence
    - action: utter_start_genderViolence #selector con deny y emergency
    - intent: confirmgv
    - action: utter_ask_genderViolence
    - intent: confirmgv2 #revisar
    - action: utter_ask_2_genderViolence #revisar   ## Añadir mas
    - intent: confirmgv3
    - action: utter_call_to_emergency_gv # o recursos o contar
    - intent: confirm_retrieval         # contar
    - action: utter_si_contar           # dime
    
  - story: gender_violence_ direct #ok revisado
    steps:
    - intent: genderViolence
    - action: utter_start_genderViolence #selector con deny y emergency
    - intent: confirmgv
    - action: utter_ask_genderViolence
    - intent: no_confirmgv2 #revisar
    - action: utter_ask_2_genderViolence #revisar   ## Añadir mas
    - intent: confirmgv3
    - action: utter_call_to_emergency_gv # o recursos o contar
    - intent: confirm_retrieval         # contar
    - action: utter_si_contar           # dime
    
  - story: gender_violence_ direct ultima no #ok revisado
    steps:
    - intent: genderViolence
    - action: utter_start_genderViolence #selector con deny y emergency
    - intent: confirmgv
    - action: utter_ask_genderViolence
    - intent: confirmgv2 #revisar
    - action: utter_ask_2_genderViolence #revisar   ## Añadir mas
    - intent: denygv
    - action: utter_answer_no_genderViolence
    - action: utter_call_to_emergency_gv_denylastcuestion
  #  - action: utter_retrieval
    #- action: utter_answer_no_genderViolence
    #- action: utter_call_to_emergency_gv_denylastcuestion
    #- action: utter_keep_talking
    
  - story: gender_violence_ direct ultima no #ok revisado
    steps:
    - intent: genderViolence
    - action: utter_start_genderViolence #selector con deny y emergency
    - intent: confirmgv
    - action: utter_ask_genderViolence
    - intent: no_confirmgv2 #revisar
    - action: utter_ask_2_genderViolence #revisar   ## Añadir mas
    - intent: denygv
    - action: utter_answer_no_genderViolence
    - action: utter_call_to_emergency_gv_denylastcuestion
 #   - action: utter_retrieval
    #- action: utter_answer_no_genderViolence
    #- action: utter_call_to_emergency_gv_denylastcuestion
    #- action: utter_keep_talking


  #- story: retrieval_intent
    #steps:
      #- intent: retrieval_alert_intent
      #- action: utter_retrieval

  # # - story: emergency # ok revisado
  # #   steps:
  # #   - intent: alert
  # #   - action: utter_alert # selector con deny y emergency
  # #   - intent: emergency
  # #   - action: utter_confirm_emergency
  # #   - intent: emergency
  # #   - action: utter_emergency
  
  # - story: emergency with alert /alert_detected
  #   steps: 
  #   - intent: alert
  #   - action: utter_alert
  #   - intent: emergency
  #   - action: utter_confirm_emergency
  #   - intent: alert_detected
  #   - action: utter_alert_detected
  #   - action: utter_alert_detected_selector



  # # - story: emergency # ok revisado
  # #   steps:
  # #   - intent: alert
  # #   - action: utter_alert # selector con deny y emergency
  # #   - intent: confirm
  # #   - action: utter_confirm_emergency
  # #   - intent: emergency
  # #   - action: utter_emergency
  # #   - intent: emergency
  # #   - action: utter_call_to_emergency

  # - story: emergency_false_alarm # ok revisado
  #   steps:
  #   - intent: alert
  #   - action: utter_alert
  #   - intent: inform_sentiment
  #   - action: utter_sentiment_NEG #cambiar nombre y poner noemergency. Se queda hasta que decidan flujo final para ambos



  # - story: gender_violence_ denyfirstquestion #ok revisado
  #   steps:
  #   - intent: genderViolence
  #   - action: utter_start_genderViolence #selector con deny y emergency
  #   - intent: inform_sentiment
  #   - action: utter_sentiment_NEG


  # - story: gender_violence_ direct #ok revisado
  #   steps:
  #   - intent: genderViolence
  #   - action: utter_start_genderViolence #selector con deny y emergency
  #   - intent: confirmgv
  #   - action: utter_ask_genderViolence
  #   - intent: confirmgv2 #revisar
  #   - action: utter_ask_2_genderViolence #revisar   ## Añadir mas
  #   - intent: confirmgv3
  #   - action: utter_call_to_emergency_gv


  # - story: gender_violence_ direct ultima no #ok revisado
  #   steps:
  #   - intent: genderViolence
  #   - action: utter_start_genderViolence #selector con deny y emergency
  #   - intent: confirmgv
  #   - action: utter_ask_genderViolence
  #   - intent: confirmgv2 #revisar
  #   - action: utter_ask_2_genderViolence #revisar   ## Añadir mas
  #   - intent: confirmgv3
  #   - action: utter_call_to_emergency_gv



  # - story: gender_violence_ direct ultima no #ok revisado
  #   steps:
  #   - intent: genderViolence
  #   - action: utter_start_genderViolence #selector con deny y emergency
  #   - intent: confirmgv
  #   - action: utter_ask_genderViolence
  #   - intent: confirmgv2 #revisar
  #   - action: utter_ask_2_genderViolence #revisar   ## Añadir mas
  #   - intent: deny
  #   - action: utter_answer_no_genderViolence
  #   - action: utter_call_to_emergency_gv_denylastcuestion
